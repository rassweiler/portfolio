<!doctype html><html lang=en><head><title>Arch Linux Awesomewm Install Guide</title>
<meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><link rel=stylesheet href=/application.6dec6ace68fdfac95f45ad85172bbe3ef4149d0d001375345957a0e0c434595c.css integrity="sha256-bexqzmj9+slfRa2FFyu+PvQUnQ0AE3U0WVeg4MQ0WVw="><link rel=icon type=image/png href=/images/logo_hu_c1810c85a255bfe5.webp><meta property="og:title" content="Kyle Rassweiler Portfolio"><meta property="og:type" content="website"><meta property="og:description" content="Portfolio and project collection of Kyle Rassweiler."><meta property="og:image" content="/images/profile.webp"><meta property="og:url" content="https://portfolio.kylerassweiler.ca/"><meta name=description content="Easy Install Guide For Arch Linux With Awesomewm"><script integrity="sha256-DO4ugzEwhTW1Id1UIWn0gUJWaebCYOypeTit6LW4QB4=">let theme=localStorage.getItem("theme-scheme")||localStorage.getItem("darkmode:color-scheme")||"light";theme==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-bs-spy=scroll data-bs-target=#TableOfContents data-bs-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i>
</button>
<a class=navbar-brand href=/><img src=/images/logo_hu_c1810c85a255bfe5.webp id=logo alt=Logo>
Kyle Rassweiler Portfolio</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ms-auto"><li class=nav-item><a class=nav-link href=/#home>Home</a></li><li class=nav-item><a class=nav-link href=/#about>About</a></li><li class=nav-item><a class=nav-link href=/#projects>Featured Projects</a></li><li class=nav-item><a class=nav-link href=/#skills>Skills</a></li><li class=nav-item><a class=nav-link href=/#accomplishments>Accomplishments</a></li><li class=nav-item><a class=nav-link href=/#experiences>Experiences</a></li><li class=nav-item><a class=nav-link href=/#education>Education</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>Posts</a></li></ul></div></div><img src=/images/logo_hu_c1810c85a255bfe5.webp class=d-none id=main-logo alt=Logo>
<img src=/images/logo-inverted_hu_8ad4f0f8c1bf4e5a.webp class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i data-feather=plus-circle></i><a class=list-link href=/posts/design/> Design</a><ul><li><a class=list-link href=/posts/design/2d/ title=2D>2D</a></li><li><a class=list-link href=/posts/design/3d/ title=3D>3D</a></li><li><a class=list-link href=/posts/design/cad/ title=CAD>CAD</a></li><li><a class=list-link href=/posts/design/game-dev/ title="Game Dev">Game Dev</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/farming/> Farming</a><ul><li><a class=list-link href=/posts/farming/recipes/ title=Recipes>Recipes</a></li></ul></li><li><i data-feather=plus-circle></i><a class=list-link href=/posts/hardware/> Hardware</a><ul><li><a class=list-link href=/posts/hardware/homelab/ title=Homelab>Homelab</a></li><li><a class=list-link href=/posts/software/web/ title=Web>Web</a></li></ul></li><li><i data-feather=minus-circle></i><a class="active list-link" href=/posts/software/> Software</a><ul class=active><li><a class=list-link href=/posts/software/c++/ title=C++>C++</a></li><li><a class="active list-link" href=/posts/software/linux/ title=Linux>Linux</a></li><li><a class=list-link href=/posts/software/node/ title=Node>Node</a></li><li><a class=list-link href=/posts/software/python/ title=Python>Python</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/posts/software/linux/arch-linux-awesomewm-install/images/Awesomewm.png)></div><div class=page-content><div class="author-profile ms-auto align-self-lg-center"><img class=rounded-circle src=/images/profile_hu_228a395b8a6fa4fd.webp alt="Author Image"><h5 class=author-name>Kyle Rassweiler</h5><p class=text-muted>Sunday, November 12, 2023 | 3 minutes</p></div><div class=title><h1>Arch Linux Awesomewm Install Guide</h1></div><div class=tags><ul style=padding-left:0><li class=rounded><a href=/tags/os/ class="btn btn-sm btn-info">OS</a></li><li class=rounded><a href=/tags/arch/ class="btn btn-sm btn-info">Arch</a></li><li class=rounded><a href=/tags/linux/ class="btn btn-sm btn-info">Linux</a></li><li class=rounded><a href=/tags/btrfs/ class="btn btn-sm btn-info">BTRFS</a></li><li class=rounded><a href=/tags/awesomewm/ class="btn btn-sm btn-info">Awesomewm</a></li></ul></div><div class=post-content id=post-content><p>This guide is for installing arch linux (UEFI) with xorg, Awesomewm, SDDM, Paru, BTRFS, Snapshots, Qemu, KVM, and Gaming.</p><hr><h2 id=install-iso-to-usb>Install ISO to USB:</h2><p>After downloading the latest <a href=https://archlinux.org/download/ target=_blank rel=noopener>Arch ISO</a> you will need to install it to a usb using a program like <a href=https://github.com/balena-io/etcher target=_blank rel=noopener>Balena Etcher</a>. Plug the usb into the machine you want to install arch to and boot into the usb.</p><hr><h2 id=base-install>Base Install</h2><h3 id=set-pacman-confs>Set Pacman Confs</h3><p>Use nano or vim to edit the /etc/pacman.conf file:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ae81ff>Color</span> <span style=color:#75715e># Uncomment this line</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>ParallelDownloads = 5</span> <span style=color:#75715e># Uncomment this line</span>
</span></span></code></pre></div><p>Then update pacman:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>pacman -Sy
</span></span></code></pre></div><h3 id=update-keyring-and-archinstall>Update Keyring and Archinstall</h3><p>Once booted into the arch live ISO you need to update the keyring and archinstall packages:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>pacman -S archlinux-keyring archinstall
</span></span></code></pre></div><h3 id=run-archinstall-script>Run Archinstall Script</h3><p>Run the built in archinstall script:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>archinstall
</span></span></code></pre></div><h3 id=the-basics>The Basics</h3><figure><a href=images/Archinstaller_Base.png><img src=/posts/software/linux/arch-linux-awesomewm-install/images/Archinstaller_Base.png></a><figcaption><h4>Archinstall base</h4></figcaption></figure><p>In the installer setup the base system:</p><ul><li>Pick your local mirror</li><li>Setup your locale</li><li>Set the disk configuration, use best effort default with btrfs and subvolumes</li><li>Choose the bootloader</li><li>Setup swap</li><li>Set the host name</li><li>Set the root password</li><li>Create a user account</li><li>Select the pipewire audio <code>May have an issue due to a bug in older install scripts</code></li><li>Select the kernel</li><li>Set the network config</li><li>Set the time zone</li><li>Set the time sync</li><li>Enable the multilib repository in optional repositories</li></ul><h3 id=profile>Profile</h3><p>Select the awesomewm profile and take note of the installed packages:</p><figure><a href=images/Archinstaller_Profile_Awesome.png><img src=images/Archinstaller_Profile_Awesome.png></a><figcaption><h4>Archinstall Awesomewm profile</h4></figcaption></figure><h3 id=additional-packages>Additional Packages</h3><p>Add the following packages to the base install (This setup is based on an AMD CPU with Nvidia GPU and Linux Zen):</p><ul><li><code>dunst</code> is the notification package.</li><li><code>polkit</code> is the polkit package.</li><li><code>fish</code> is a shell.</li><li><code>python-pywal</code> is the colour scheme package.</li><li><code>rustup</code> is the rust updater package.</li><li><code>iwd</code> is the wireless networking package.</li><li><code>gnome-keyring</code> is needed for nextcloud-client.</li><li><code>libsecret</code> is needed for nextcloud-client.</li><li><code>network-manager-applet</code> is the taskbar display for <code>NetworkManager</code></li><li><code>util-linux</code> contains the tool for disk partitioning</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>intel-ucode amd-ucode polkit git fish base-devel python-pywal rustup networkmanager network-manager-applet iwd dhcpcd gnome-keyring libsecret linux-zen-headers wget util-linux openssh pacman-contrib cpupower acpi wireless_tools xdg-utils numlockx fd dosfstools
</span></span></code></pre></div><h3 id=finish-installer>Finish Installer</h3><p>Once everything is setup to your needs select the install option.</p><h2 id=post-install>Post Install</h2><p>After the installer finishes choose the option to chroot into the new system before restarting to finish up the install:<figure><a href=images/Archinstaller_Completed.png><img src=/posts/software/linux/arch-linux-awesomewm-install/images/Archinstaller_Completed.png></a><figcaption><h4>Archinstall completed</h4></figcaption></figure></p><p>Make sure to switch to user level:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>su <span style=color:#f92672>[</span>username<span style=color:#f92672>]</span>
</span></span></code></pre></div><h3 id=ssh-agent>SSH Agent</h3><p>Change default shell to fish:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>systemctl --user enable ssh-agent.service
</span></span></code></pre></div><h3 id=fish>Fish</h3><p>Change default shell to fish:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>chsh -s /bin/fish
</span></span></code></pre></div><h3 id=config-system-with-dotfiles>Config System With Dotfiles:</h3><p>This will link the config files over then install all the remaining packages:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>git clone https://github.com/rassweiler/dotfiles.git
</span></span><span style=display:flex><span>cd dotfiles
</span></span><span style=display:flex><span>git checkout arch-awesome
</span></span><span style=display:flex><span>./install
</span></span><span style=display:flex><span>./init.sh
</span></span></code></pre></div><h3 id=setup-lightdm>Setup LightDM:</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>sudo nvim /etc/lightdm/lightdm.conf
</span></span></code></pre></div><p>Change the theme value:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span>[<span style=color:#ae81ff>Seat:*]</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>greeter-session=lightdm-slick-greeter</span>
</span></span></code></pre></div><h3 id=setup-git>Setup Git:</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>git config --global user.name <span style=color:#e6db74>&#34;Your Name&#34;</span>
</span></span><span style=display:flex><span>git config --global user.email <span style=color:#e6db74>&#34;youremail@yourdomain.com&#34;</span>
</span></span></code></pre></div><h3 id=mkinitcpio-setup>Mkinitcpio Setup:</h3><ul><li>Update mkinit by adding <code>nvidia nvidia_modeset nvidia_uvm nvidia_drm</code> to the <em>MODULES</em> section of <code>/etc/mkinitcpio.conf</code>:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>sudo nvim /etc/mkinitcpio.conf
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yml data-lang=yml><span style=display:flex><span><span style=color:#ae81ff>MODULES=(btrfs nvidia nvidia_modeset nvidia_uvm nvidia_drm)</span>
</span></span></code></pre></div><p>then running the generator:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>mkinitcpio -p linux-zen
</span></span></code></pre></div><h3 id=remote-desktop-server-setup>Remote Desktop Server Setup:</h3><p>This will allow RDP connections:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>paru -S xrdp
</span></span><span style=display:flex><span>sudo systemctl enable xrdp.service
</span></span></code></pre></div><h3 id=complete-and-exit>Complete and Exit</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>exit
</span></span><span style=display:flex><span>exit
</span></span><span style=display:flex><span>reboot
</span></span></code></pre></div><h2 id=first-boot>First Boot</h2><p>Log into the machine and open the terminal</p><figure><a href=images/SDDM_Login.png><img src=/posts/software/linux/arch-linux-awesomewm-install/images/SDDM_Login.png></a><figcaption><h4>Login Screen</h4></figcaption></figure><h2 id=finish-setup>Finish Setup</h2><h3 id=vm-auto-start>VM Auto Start:</h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-zsh data-lang=zsh><span style=display:flex><span>sudovirsh net-autostart default
</span></span></code></pre></div><hr><h2 id=references>REFERENCES</h2><ul><li><a href=https://wiki.archlinux.org/title/Installation_guide target=_blank rel=noopener>Arch Install Guide</a></li><li><a href=https://wiki.archlinux.org/title/PCI_passthrough_via_OVMF target=_blank rel=noopener>Arch PCI Passthrough</a></li><li><a href=https://wiki.archlinux.org/title/awesome target=_blank rel=noopener>Arch awesomewm</a></li><li><a href=https://awesomewm.org/ target=_blank rel=noopener>Awesomewm Docs</a></li></ul></div><div class="row ps-3 pe-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn icon-button bg-facebook" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fsoftware%2flinux%2farch-linux-awesomewm-install%2f" target=_blank><i class="fab fa-facebook"></i>
</a><a class="btn icon-button bg-twitter" href="https://twitter.com/share?url=https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fsoftware%2flinux%2farch-linux-awesomewm-install%2f&text=Arch%20Linux%20Awesomewm%20Install%20Guide&via=Kyle%20Rassweiler%20Portfolio" target=_blank><i class="fab fa-twitter"></i>
</a><a class="btn icon-button bg-reddit" href="https://reddit.com/submit?url=https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fsoftware%2flinux%2farch-linux-awesomewm-install%2f&title=Arch%20Linux%20Awesomewm%20Install%20Guide" target=_blank><i class="fab fa-reddit"></i>
</a><a class="btn icon-button bg-linkedin" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fsoftware%2flinux%2farch-linux-awesomewm-install%2f&title=Arch%20Linux%20Awesomewm%20Install%20Guide" target=_blank><i class="fab fa-linkedin"></i>
</a><a class="btn icon-button bg-whatsapp" href="https://api.whatsapp.com/send?text=Arch%20Linux%20Awesomewm%20Install%20Guide https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fsoftware%2flinux%2farch-linux-awesomewm-install%2f" target=_blank><i class="fab fa-whatsapp"></i>
</a><a class="btn icon-button" href="mailto:?subject=Arch%20Linux%20Awesomewm%20Install%20Guide&body=https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fsoftware%2flinux%2farch-linux-awesomewm-install%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/rassweiler/portfolio/edit/master/content/posts/Software/Linux/arch-linux-awesomewm-install/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"></div><hr></div></div></div><a id=scroll-to-top class=btn type=button data-bs-toggle=tooltip data-bs-placement=left title="Scroll to top"><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center ps-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=#install-iso-to-usb>Install ISO to USB:</a></li><li><a href=#base-install>Base Install</a><ul><li><a href=#set-pacman-confs>Set Pacman Confs</a></li><li><a href=#update-keyring-and-archinstall>Update Keyring and Archinstall</a></li><li><a href=#run-archinstall-script>Run Archinstall Script</a></li><li><a href=#the-basics>The Basics</a></li><li><a href=#profile>Profile</a></li><li><a href=#additional-packages>Additional Packages</a></li><li><a href=#finish-installer>Finish Installer</a></li></ul></li><li><a href=#post-install>Post Install</a><ul><li><a href=#ssh-agent>SSH Agent</a></li><li><a href=#fish>Fish</a></li><li><a href=#config-system-with-dotfiles>Config System With Dotfiles:</a></li><li><a href=#setup-lightdm>Setup LightDM:</a></li><li><a href=#setup-git>Setup Git:</a></li><li><a href=#mkinitcpio-setup>Mkinitcpio Setup:</a></li><li><a href=#remote-desktop-server-setup>Remote Desktop Server Setup:</a></li><li><a href=#complete-and-exit>Complete and Exit</a></li></ul></li><li><a href=#first-boot>First Boot</a></li><li><a href=#finish-setup>Finish Setup</a><ul><li><a href=#vm-auto-start>VM Auto Start:</a></li></ul></li><li><a href=#references>REFERENCES</a></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-start"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#projects>Featured Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#accomplishments>Accomplishments</a></li><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#education>Education</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:jobs@kylerassweiler.ca target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>jobs@kylerassweiler.ca</span></a></li><li><a href=tel:+1-613-724-9141 target=_blank rel=noopener><span><i class="fas fa-phone-alt"></i></span> <span>+1-613-724-9141</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-start"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu_b3360284c55cf72d.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2022 Copyright.</div><div class="col-md-4 text-end"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.461e08d4f7750213f4f0ba42f6ee6d0bbe7772a4fbdbe69dcc919fa22c6397bb.js integrity="sha256-Rh4I1Pd1AhP08LpC9u5tC753cqT72+adzJGfoixjl7s=" defer></script><script src=https://storage.ko-fi.com/cdn/scripts/overlay-widget.js></script><script>kofiWidgetOverlay.draw("kylerassweiler",{type:"floating-chat","floating-chat.donateButton.text":"Tip Me","floating-chat.donateButton.text-color":"#f9fafc","floating-chat.donateButton.background-color":"#248aaa"})</script></body></html>