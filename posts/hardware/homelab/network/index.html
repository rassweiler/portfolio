<!doctype html><html><head><title>Network Upgrade</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600"><link rel=stylesheet href=/fontawesome/css/all.min.css><link rel=stylesheet href=/css/colortheme/colortheme.css><link rel=icon type=image/png href=/images/site/logo_huccbe1dced2bd58e862e6c832fc83ef57_9458_42x0_resize_q75_h2_box_2.webp><meta property="og:title" content="Network Upgrade"><meta property="og:description" content="Virtual Machines, Storage, and Streaming"><meta property="og:type" content="article"><meta property="og:url" content="https://portfolio.kylerassweiler.ca/posts/hardware/homelab/network/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-01-09T10:58:08-04:00"><meta property="article:modified_time" content="2021-01-09T10:58:08-04:00"><meta property="og:site_name" content="Kyle Rassweiler's Portfolio"><meta name=description content="Virtual Machines, Storage, and Streaming"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css><link rel=stylesheet href=/css/style.css></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/logo_huccbe1dced2bd58e862e6c832fc83ef57_9458_42x0_resize_q75_h2_box_2.webp alt=Logo>
Kyle Rassweiler's Portfolio</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><div id=theme-initialization style=display:none default-theme=dark></div><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20></a><div class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# onclick=enableLightTheme()><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20></a>
<a class="dropdown-item nav-link" href=# onclick=enableDarkTheme()><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20></a>
<a class="dropdown-item nav-link" href=# onclick=useSystemTheme()><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20></a></div></li></ul></div></div><img src=/images/site/logo_huccbe1dced2bd58e862e6c832fc83ef57_9458_42x0_resize_q75_h2_box_2.webp class=d-none id=main-logo alt=Logo>
<img src=/images/site/logo-inverted_hu070bfe41fdeb7aa0d8e46d50934d5f6a_10868_42x0_resize_q75_h2_box_2.webp class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><i class="fas fa-plus-circle"></i><a href=/posts/design/>Design</a><ul><li><a href=/posts/design/2d/ title=2D>2D</a></li><li><a href=/posts/design/3d/ title=3D>3D</a></li><li><a href=/posts/design/cad/ title=CAD>CAD</a></li><li><a href=/posts/design/game-dev/ title="Game Dev">Game Dev</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/farming/>Farming</a><ul><li><a href=/posts/farming/recipes/ title=Recipes>Recipes</a></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/hardware/>Hardware</a><ul class=active><li><a class=active href=/posts/hardware/homelab/ title=Homelab>Homelab</a></li><li><a href=/posts/software/web/ title=Web>Web</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/software/>Software</a><ul><li><a href=/posts/software/c++/ title=C++>C++</a></li><li><a href=/posts/software/linux/ title=Linux>Linux</a></li><li><a href=/posts/software/node/ title=Node>Node</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/posts/hardware/homelab/network/images/network-bg.webp)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/site/profile_hu89e528c40daf077150afc70038779b42_25184_120x120_fit_q75_h2_box_2.webp alt="Author Image"><h5 class=author-name></h5><p>Saturday, January 9, 2021</p></div><div class=title><h1>Network Upgrade</h1></div><div class=taxonomy-terms><ul><li class=rounded><a href=/tags/network class="btn, btn-sm">Network</a></li><li class=rounded><a href=/tags/unify class="btn, btn-sm">Unify</a></li><li class=rounded><a href=/tags/10g class="btn, btn-sm">10G</a></li><li class=rounded><a href=/tags/jellyfin class="btn, btn-sm">Jellyfin</a></li><li class=rounded><a href=/tags/proxmox class="btn, btn-sm">Proxmox</a></li><li class=rounded><a href=/tags/komga class="btn, btn-sm">Komga</a></li><li class=rounded><a href=/tags/truenas class="btn, btn-sm">Truenas</a></li><li class=rounded><a href=/tags/radarr class="btn, btn-sm">Radarr</a></li><li class=rounded><a href=/tags/lidarr class="btn, btn-sm">Lidarr</a></li><li class=rounded><a href=/tags/nzbhydra2 class="btn, btn-sm">NZBHydra2</a></li><li class=rounded><a href=/tags/readarr class="btn, btn-sm">Readarr</a></li><li class=rounded><a href=/tags/mylar class="btn, btn-sm">Mylar</a></li></ul></div><div class=post-content id=post-content><p>My attempt to replace subscriptions and automate manual media tasks. Services to be replaced: Spotify, Netflix, Amazon Books, Google Drive, Gmail, Google Calendar, Trello, Google Contacts, Zoom.</p><hr><h2 id=network-layout>Network Layout</h2><p>First off, yes, I&rsquo;m aware that this layout is poor&mldr;</p><p>The router/wan combo has been replaced by a Dreammachine pro and WAP, among other changes not listed here (<em>Sue me, I&rsquo;m too lazy to update the flow chart</em>).</p><figure><a href=images/network-bg.webp><img src=images/network-bg.webp></a><figcaption><h4>Network Layout</h4></figcaption></figure><hr><h2 id=storage>Storage</h2><p>The storage server is a Supermicro 6047R-E1R72L running TrueNAS. Pool names are determined by several factors: <code>(use)-(Number of Drives in vdev)x(Size of Individual Drives)-(Compression Level)</code>, so the media pool would be: <code>Media-6x4TB-Z2</code>.</p><p>The server has 4 1G NICs available, my setup uses one of them for non priority traffic such as <a href=https://github.com/qbittorrent/qBittorrent>QBittorrent</a>. I&rsquo;ve also installed a SFP+ card(<em>10GTek Intel Card</em>) for media traffic over fibre lines to my Jellyfin server.</p><p>This section is also a bit out of date as I&rsquo;ve reached the media pool&rsquo;s limit several times already. I&rsquo;ve also learned the importance of clearing out old snapshots when the backup pool reached 100% usage&mldr; Followed by a day of troubleshooting what was using the space.</p><figure><a href=images/network-truenas-01.webp><img src=images/network-truenas-01.webp></a><figcaption><h4>Truenas Storage UI</h4></figcaption></figure><hr><h2 id=netflix--spotify-replacement>Netflix & Spotify Replacement</h2><p>I use a <a href=https://github.com/jellyfin/jellyfin>Jellyfin server</a> (similar to plex) to serve movies, music, and tv shows. The mobile client allows me to download or stream my media for offline play.</p><p>Originally I was using Emby, however there was an issue with them closing off their source. Jellyfin is a FOSS fork of Emby before the fall.</p><figure><a href=images/network-jellyfin-01.webp><img src=images/network-jellyfin-01.webp></a><figcaption><h4>Jellyfin Media Server UI</h4></figcaption></figure><hr><h2 id=amazon-books--comic-stream-replacement>Amazon Books & Comic Stream Replacement</h2><p>For all of my digital reading needs I have <a href=https://github.com/gotson/komga>Komga</a> serving up my PDFs, EPUBs, CBRs, CBZs, etc&mldr; It&rsquo;s listed as a comic and manga server but it can handle manuals and textbooks just fine.</p><p>On the android mobile end I use Tachiyomi with the Komga extension to access my books.</p><figure><a href=images/network-komga-01.webp><img src=images/network-komga-01.webp></a><figcaption><h4>Komga Book Server UI</h4></figcaption></figure><hr><h2 id=media-automation--organisation>Media Automation & Organisation</h2><p>All the media is organised into a proper folder structure for each server with all meta data collected.</p><h3 id=jackett>Jackett</h3><p><a href=https://github.com/Jackett/Jackett>Jackett</a> contains a list of places to find torrents and their connection information.</p><p>From their github:
<code>It translates queries from apps (Sonarr, Radarr, SickRage, CouchPotato, Mylar3, Lidarr, DuckieTV, qBittorrent, Nefarious etc.) into tracker-site-specific http queries, parses the html or json response, and then sends results back to the requesting software</code></p><figure><a href=images/network-jackett-01.webp><img src=images/network-jackett-01.webp></a><figcaption><h4>Jackett UI</h4></figcaption></figure><h3 id=nzbhydra2>NZBHydra2</h3><p><a href=https://github.com/theotherp/nzbhydra2>NZBHydra2</a> is a single point for conncting to various download sources, making it easier configure various servers.</p><p>From their github:
<code>NZBHydra 2 is a meta search for newznab indexers and torznab trackers. It provides easy access to newznab indexers and many torznab trackers via Jackett. You can search all your indexers and trackers from one place and use it as an indexer source for tools like Sonarr, Radarr, Lidarr or CouchPotato.</code></p><figure><a href=images/network-nzbhydra2-01.webp><img src=images/network-nzbhydra2-01.webp></a><figcaption><h4>NZBHydra2 UI</h4></figcaption></figure><h3 id=sonarr>Sonarr</h3><p><a href=https://github.com/Sonarr/Sonarr>Sonarr</a> is used for organising TV media and metadata such as descriptions, names, and actors. It can also be used to keep track of air dates and automate the aquisition by coordinating with an indexer and torrent client.</p><p>Typical flow: <em>Sonarr/Radarr/Lidarr/Mylar -> NZBHydra2 -> Jackett -> NZBHydra2 -> Sonarr/Radarr/Lidarr/Mylar -> QBittorrent</em></p><p>From their github:
<code>Sonarr is a PVR for Usenet and BitTorrent users. It can monitor multiple RSS feeds for new episodes of your favorite shows and will grab, sort and rename them. It can also be configured to automatically upgrade the quality of files already downloaded when a better quality format becomes available.</code></p><figure><a href=images/network-sonarr-01.webp><img src=images/network-sonarr-01.webp></a><figcaption><h4>Sonarr Server UI</h4></figcaption></figure><h3 id=radarr>Radarr</h3><p><a href=https://github.com/Radarr/Radarr>Radarr</a> is used for organising movie media and metadata such as descriptions, names, and actors. It can also be used to keep track of release dates and automate the aquisition by coordinating with an indexer and torrent client.</p><p>From their github:
<code>Radarr is a movie collection manager for Usenet and BitTorrent users. It can monitor multiple RSS feeds for new movies and will interface with clients and indexers to grab, sort, and rename them. It can also be configured to automatically upgrade the quality of existing files in the library when a better quality format becomes available.</code></p><figure><a href=images/network-radarr-01.webp><img src=images/network-radarr-01.webp></a><figcaption><h4>Radarr Server UI</h4></figcaption></figure><h3 id=lidarr>Lidarr</h3><p><a href=https://github.com/Lidarr/Lidarr>Lidarr</a> is used for organising music media and metadata such as descriptions, names, and artists. It can also be used to keep track of release dates and automate the aquisition by coordinating with an indexer and torrent client.</p><p>From their github:
<code>Lidarr is a music collection manager for Usenet and BitTorrent users. It can monitor multiple RSS feeds for new tracks from your favorite artists and will grab, sort and rename them. It can also be configured to automatically upgrade the quality of files already downloaded when a better quality format becomes available.</code></p><figure><a href=images/network-lidarr-01.webp><img src=images/network-lidarr-01.webp></a><figcaption><h4>Lidarr Server UI</h4></figcaption></figure><h3 id=readarr>Readarr</h3><p><a href=https://github.com/Readarr/Readarr>Readarr</a> is used for organising book media and metadata such as descriptions, names, and authors. It can also be used to keep track of release dates and automate the aquisition by coordinating with an indexer and torrent client.</p><p>From their github:
<code>Readarr is an ebook and audiobook collection manager for Usenet and BitTorrent users. It can monitor multiple RSS feeds for new books from your favorite authors and will grab, sort and rename them. Note that only one type of a given book is supported. If you want both an audiobook and ebook of a given book you will need multiple instances.</code></p><figure><a href=images/network-readarr-01.webp><img src=images/network-readarr-01.webp></a><figcaption><h4>Readarr Server UI</h4></figcaption></figure><h3 id=mylar>Mylar</h3><p><a href=https://github.com/mylar3/mylar3>Mylar</a> is used for organising comic media and metadata such as descriptions, names, and authors. It can also be used to keep track of release dates and automate the aquisition by coordinating with an indexer and torrent client.</p><p>Side note: The name an UI aren&rsquo;t consistent</p><p>From their github:
<code>Mylar is an automated Comic Book (cbr/cbz) downloader program for use with NZB and torrents. Mylar allows you to create a watchlist of series that it monitors for various things (new issues, updated information, etc). It will grab, sort, and rename downloaded issues. It will also allow you to monitor weekly pull-lists for items belonging to said watchlisted series to download, as well as being able to monitor and maintain story-arcs.</code></p><figure><a href=images/network-mylar-01.webp><img src=images/network-mylar-01.webp></a><figcaption><h4>Mylar Server UI</h4></figcaption></figure><hr><h2 id=gmail--gdrive--gdocuments--gcalendar--gcontacts--gmeetings--trello>GMail & GDrive & GDocuments & GCalendar & GContacts & GMeetings & Trello</h2><p><a href=https://nextcloud.com/>Nextcloud</a> is the perfect google replacement for most needs, though I am currently looking into <a href=https://github.com/mailcow/mailcow-dockerized>Mailcow</a> for emails.</p><hr></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fhardware%2fhomelab%2fnetwork%2f" target=_blank><i class="fab fa-facebook"></i></a>
<a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fhardware%2fhomelab%2fnetwork%2f&text=Network%20Upgrade&via=Kyle%20Rassweiler%27s%20Portfolio" target=_blank><i class="fab fa-twitter"></i></a>
<a class="btn btn-sm reddit-btn" href="https://reddit.com/submit?url=https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fhardware%2fhomelab%2fnetwork%2f&title=Network%20Upgrade" target=_blank><i class="fab fa-reddit"></i></a>
<a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fhardware%2fhomelab%2fnetwork%2f&title=Network%20Upgrade" target=_blank><i class="fab fa-linkedin"></i></a>
<a class="btn btn-sm whatsapp-btn" href="https://api.whatsapp.com/send?text=Network%20Upgrade https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fhardware%2fhomelab%2fnetwork%2f" target=_blank><i class="fab fa-whatsapp"></i></a>
<a class="btn btn-sm email-btn" href="mailto:?subject=Network%20Upgrade&body=https%3a%2f%2fportfolio.kylerassweiler.ca%2fposts%2fhardware%2fhomelab%2fnetwork%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/rassweiler/portfolio/edit/master/content/posts/Hardware/Homelab/Network/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Improve this page</a></div></div><hr><div class="row next-prev-navigator"></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=#network-layout>Network Layout</a></li><li><a href=#storage>Storage</a></li><li><a href=#netflix--spotify-replacement>Netflix & Spotify Replacement</a></li><li><a href=#amazon-books--comic-stream-replacement>Amazon Books & Comic Stream Replacement</a></li><li><a href=#media-automation--organisation>Media Automation & Organisation</a><ul><li><a href=#jackett>Jackett</a></li><li><a href=#nzbhydra2>NZBHydra2</a></li><li><a href=#sonarr>Sonarr</a></li><li><a href=#radarr>Radarr</a></li><li><a href=#lidarr>Lidarr</a></li><li><a href=#readarr>Readarr</a></li><li><a href=#mylar>Mylar</a></li></ul></li><li><a href=#gmail--gdrive--gdocuments--gcalendar--gcontacts--gmeetings--trello>GMail & GDrive & GDocuments & GCalendar & GContacts & GMeetings & Trello</a></li></ul></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#about>About</a></li><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#projects>Featured Projects</a></li><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#accomplishments>Accomplishments</a></li><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=https://portfolio.kylerassweiler.ca/#education>Education</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:jobs@kylerassweiler.ca target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>jobs@kylerassweiler.ca</span></a></li><li><span><i class="fas fa-phone-alt"></i></span> <span>+1-613-724-9141</span></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2022 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script>
<script type=text/javascript src=/js/popper.min.js></script>
<script type=text/javascript src=/js/bootstrap.min.js></script>
<script type=text/javascript src=/js/navbar.js></script>
<script type=text/javascript src=/js/plyr.js></script>
<script type=text/javascript src=/js/main.js></script>
<script type=text/javascript src=/js/darkreader.js></script>
<script type=text/javascript src=/js/darkmode-darkreader.js></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script>
<script src=/js/single.js></script>
<script>hljs.initHighlightingOnLoad()</script></body></html>