---
date: 2023-10-31T19:00:08-04:00
title: "Arch Linux i3wm Install Guide"
description: "Easy Install Guide For Arch Linux"
hero: "images/archinstall-bg.webp"
tags: ["OS","Arch","Linux","BTRFS","hyprland"]
categories: ["Software","Linux"]
---

This guide is for installing arch linux (UEFI) with Wayland, Hyprland, SDDM, Paru, BTRFS, Snapshots, Qemu, KVM, and Gaming.

<!--more-->

___

## Install ISO to USB:

After downloading the latest [Arch ISO](https://archlinux.org/download/) you will need to install it to a usb using a program like [Balena Etcher](https://github.com/balena-io/etcher). Plug the usb into the machine you want to install arch to and boot into the usb.

___

## Base Install

### Update Keyring and Archinstall

Once booted into the arch live ISO you need to update the keyring and archinstall packages:

```zsh
pacman -Sy archlinux-keyring archinstall
```

### Set Pacman Confs

Use nano or vim to edit the /etc/pacman.conf file:

```yml
Color # Uncomment this line
ParallelDownloads = 5 # Uncomment this line
```

### Run Archinstall Script

Run the built in archinstall script:

```zsh
archinstall
```
#### The Basics

{{< figure src="images/Archinstaller_Base.png" title="Archinstall base" link="images/Archinstaller_Base.png" >}}

In the installer setup the base system:
- Pick your local mirror
- Setup your locale
- Set the disk configuration, use best effort default with btrfs and subvolumes
- Choose the bootloader
- Setup swap
- Set the host name
- Set the root password
- Create a user account
- Select the pipewire audio `May have an issue due to a bug in older install scripts`
- Select the kernel
- Set the network config
- Set the time zone
- Set the time sync
- Enable the multilib repository in optional repositories

#### Profile

`AMD/Intel`:
If you aren't using an Nvidia gpu you can set the profile to Desktop-Hyprland:
{{< figure src="images/Archinstaller_Profile_Hyprland.png" title="Archinstall hyprland profile" link="images/Archinstaller_Profile_Hyprland.png" >}}

`Nvidia`:
If you have an Nvidia gpu we need to select a minimal profile and install the nvidia version of hyprland:
{{< figure src="images/Archinstaller_Profile_Minimal.png" title="Archinstall minimal profile" link="images/Archinstaller_Profile_Minimal.png" >}}

Then under additional packages add the following:

```zsh
wofi qt5-wayland qt6-wayland dunst xdg-desktop-portal-hyprland nvidia-dkms nvidia-utils nvidia-settings polkit sddm
```

#### Additional Packages

Add the following packages to the base install:

```zsh
git wezterm thunar flameshot neovim code firefox thunderbird nfs-utils fish bash-completion base-devel libreoffice-still mpv gvfs tumbler thunar-volman thunar-archive-plugin thunar-media-tags-plugin lib32-nvidia-utils grim

```

Personal extras:

```zsh
nextcloud godot blender gimp inkscape keepassxc obs-studio lutris steam discord qemu-full xdotool virt-manager libvirt nerd-fonts kdenlive rustup lsd ez gvfsa libvpx libde265 xvidcore winetricks vulkan-icd-loader lib32-vulkan-icd-loader eza python-pywal
```

#### Install

Once everything is setup to your needs select the install option.

### Post Install

After the installer finishes choose the option to chroot into the new system before restarting to finish up the install:
{{< figure src="images/Archinstaller_Complete.png" title="Archinstall completed" link="images/Archinstaller_Complete.png" >}}

Make sure to switch to user level:

```zsh
su [username]
```


#### Rustup

Rust will be needed to compile paru:

```zsh
rustup toolchain install stable

rustup default stable
```

#### Paru

Installing Paru will allow access to the AUR, make sure to have switched to the user level first:

```zsh
cd /tmp

git clone https://aur.archlinux.org/paru.git

cd paru

makepkg -si

cd ~

paru -Syu
```

#### Install AUR Packages

Install the rest of the packages from the AUR:

```zsh
paru -S ovmf jellyfin-media-player arc-icon-theme mangohud jmtpfs hyprland-nvidia waybar-hyprland swww
```

#### Setup SDDM:

```zsh
sudo systemctl enable sddm
```

#### Setup VM:

```zsh
sudo systemctl enable libvirtd
sudo systemctl enable virtlogd.socket
sudo usermod -aG libvirt [user_name]
```

#### Setup Git:

```zsh
git config --global user.name "Your Name"
git config --global user.email "youremail@yourdomain.com"
```

#### Config Hyprland:

Since we aren't using kitty or dolphin we need to change some config options before boot:

```zsh
nvim ~/.config/hypr/hyperland.conf
```

Comment out the warning:

```yml
#autogenerated = 1
```

Uncomment and modify the following:

```yml
exec-once = waybar

bind = $mainMod, Q, exec, wezterm
bind = $mainMod, E, exec, thunar
```

#### Complete and Exit

```zsh
exit
exit
reboot
```

## First Boot

### Login & Open Shell

{{< figure src="images/SDDM_Login.png" title="Login Screen" link="images/SDDM_Login.png" >}}

### Finish Setup

#### VM

```zsh
sudovirsh net-autostart default
```
___

### REFERENCES

- [Arch Install Guide](https://wiki.archlinux.org/title/Installation_guide)
- [Arch PCI Passthrough](https://wiki.archlinux.org/title/PCI_passthrough_via_OVMF)
- [Arch Hyprland](https://wiki.archlinux.org/title/Hyprland)
- [Hyprland Docs](https://wiki.hyprland.org/Getting-Started/Installation/)
